<link rel="stylesheet" type="text/css" href="./css/main.css">
<div class="container">
    <div class="slider">
        <a href="#" class="item">
            <img src="./img/1.jpeg" alt="A">
        </a>
        <a href="#" class="item">
            <img src="./img/2.jpeg" alt="B">
        </a>
        <a href="#" class="item">
            <img src="./img/3.jpeg" alt="C">
        </a>
    </div>
</div>
<!-- <script>
    let fade, sons;
    fade = document.querySelector('.slider');
    sons = document.querySelectorAll('.item');
    let index = 0;
    setInterval(() => {
        index++;
        if(index > sons.length - 1)
            index = 0;
        if(sons[index - 1])
            sons[index - 1].style.opacity = 0;
        else
            sons[sons.length - 1].style.opacity = 0;
        sons[index].style.opacity = 1;
        console.log(index);
    },800);
</script> -->
<script>
    const parent = document.querySelector('.slider');
    const slides = parent.querySelectorAll('.item');
    let current = 0;
    let lastIndex = slides.length - 1;
    
    boot ();

    function boot () {
        setInterval(() => {
            loop ();
        },500);
    }
    
    function loop () {
        current++;
        if(current >= slides.length)
            current = 0;
        let perv = getPerv ();
        let next = slides[current]
        hide (perv);
        show (next);
    }

    function getPerv () {
        if(current == 0)
            return slides[lastIndex];
        else
            return slides[current - 1];
    }

    function hide (el) {
        if(!el)
            return;
        el.style.opacity = 0;
    }

    function show (el) {
        if(!el)
            return;
        el.style.opacity = 1;
    }

/*    const parent = document.querySelector('.slider');
    const slides = parent.querySelectorAll('.item');
    let current = 0;
    let lastIndex = slides.length - 1;
    setInterval(() => {
        current++;
        if(current >= slides.length)
            current = 0;
        if(current == 0)
            slides[lastIndex].style.opacity = 0;   
        else
            slides[current - 1].style.opacity = 0;
        slides[current].style.opacity = 1;
    },500);*/
</script>